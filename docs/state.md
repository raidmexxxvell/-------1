# –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–æ—Ä (—ç—Ç–∞–ø 1)

–¶–µ–ª—å: –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–µ–∑ –±–∞–Ω–¥–ª–µ—Ä–∞, –Ω–∞ Vanilla JS. –í —ç—Ç–æ–º —ç—Ç–∞–ø–µ –≤–Ω–µ–¥—Ä—ë–Ω –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ç–æ—Ä —Å –ø—Ä–æ—Å—Ç—ã–º —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º API –∏ —á–∞—Å—Ç–∏—á–Ω–æ–π –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–µ–π.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ª—ë–≥–∫–∏–π —Å—Ç–æ—Ä –Ω–∞ —Å–æ–±—ã—Ç–∏—è—Ö (subscribe/notify), –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- –§–∞–π–ª—ã:
  - `static/js/store/core.js` ‚Äî —è–¥—Ä–æ —Å—Ç–æ—Ä–∞: createStore, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏—è (LocalStorage, TTL), —ç–∫—Å–ø–æ—Ä—Ç –≤ `window.Store`.
  - `static/js/store/app.js` ‚Äî —Å—Ä–µ–∑ app: `ready`, `startedAt` (–Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–∏—Ç—Å—è).
  - `static/js/store/user.js` ‚Äî —Å—Ä–µ–∑ user: `id`, `name`, `role`, `flags` (persist, TTL=7d).
  - `static/js/store/ui.js` ‚Äî —Å—Ä–µ–∑ ui: `activeTab`, `theme`, `modals` (—á–∞—Å—Ç–∏—á–Ω–æ persist, TTL=14d).
  - `static/js/store/matches.ts` ‚Äî —Å—Ä–µ–∑ matches: –¥–∞–Ω–Ω—ã–µ –º–∞—Ç—á–µ–π, —Å–æ–±—ã—Ç–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (TypeScript).
  - `static/js/store/match_stats_adapter.ts` ‚Äî –∞–¥–∞–ø—Ç–µ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –º–∞—Ç—á–µ–π –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å legacy –∫–æ–¥–æ–º.
  - `static/js/store/match_legacy_bridge.ts` ‚Äî –º–æ—Å—Ç –º–µ–∂–¥—É —Å—Ç–æ—Ä–æ–º –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º UI.
   - `static/js/store/match_legacy_bridge.ts` ‚Äî –º–æ—Å—Ç –º–µ–∂–¥—É —Å—Ç–æ—Ä–æ–º –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º UI.
     - –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: –µ—Å–ª–∏ –±–ª–æ–∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –º–æ—Å—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏ —à–∏—Ä–∏–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (`.stat-fill-left/.stat-fill-right`) –±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è DOM. –≠—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç ¬´—Å—Ç–∞—Ä—É—é¬ª –∞–Ω–∏–º–∞—Ü–∏—é, —Ç–∞–∫ –∫–∞–∫ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç CSS `transition: width ...` –∏–∑ legacy —Å—Ç–∏–ª–µ–π.
 - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω: `templates/index.html` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é dist-first:
   - –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ES‚Äë–º–æ–¥—É–ª–∏ (feature-detect), –±–∞–∑–æ–≤—ã–µ —Å—Ä–µ–∑—ã (`dist/store/core.js`, `app.js`, `user.js`, `ui.js`) –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫–∞–∫ –º–æ–¥—É–ª–∏ (`type="module"`);
   - –µ—Å–ª–∏ –º–æ–¥—É–ª–µ–π –Ω–µ—Ç –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª dist –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è ‚Äî –ø–æ—Ñ–∞–π–ª–æ–≤—ã–π fallback –Ω–∞ `static/js/store/*.js` (legacy);
   - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ä–µ–∑—ã (`realtime`, `league`, `matches`, `odds`, `predictions`, `shop`, `profile`) –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏–∑ `dist/store/` —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –º–æ–¥—É–ª–µ–π (–∏—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ).
 - –°–±–æ—Ä–∫–∞ TypeScript: –Ω–∞ —ç—Ç–∞–ø–µ Render build –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `npx tsc -p tsconfig.json`. –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ Node –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –æ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ build –∏ –∑–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `tsc`. –ï—Å–ª–∏ dist –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –Ω–µ —Å–æ–±—Ä–∞–Ω ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ legacy JS (fallback —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è).

–ü—Ä–æ–≤–µ—Ä–∫–∞:
- –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –≤ DevTools ‚Üí Network –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ `/static/js/dist/store/*.js` (—Ç–∏–ø: module). –í —Å—Ä–µ–¥–∞—Ö –±–µ–∑ –º–æ–¥—É–ª–µ–π —ç—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç ‚Äî —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∞–∫—Ç–∏–≤–µ–Ω fallback –∏ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

## –ü—É–±–ª–∏—á–Ω—ã–π API

–û–±—â–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å—Ç–æ—Ä–∞:
- `const s = Store.createStore(name, initialState, { persistKey?, persistPaths?, ttlMs? })`
- –ú–µ—Ç–æ–¥—ã: `s.get()`, `s.set(partial)`, `s.update(mutator)`, `s.subscribe(fn)`
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: `Store._stores[name]` –∏ `Store.getStore(name)`

–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ä–µ–∑—ã:
- `window.AppStore` ‚Äî —Ñ–ª–∞–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `window.UserStore` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (persist)
- `window.UIStore` ‚Äî UI (—á–∞—Å—Ç–∏—á–Ω—ã–π persist) + —É–¥–æ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã: `setActiveTab(tab)`, `setTheme(theme)`
- `window.MatchesStore` ‚Äî –¥–∞–Ω–Ω—ã–µ –º–∞—Ç—á–µ–π, —Å–æ–±—ã—Ç–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `window.MatchesStoreAPI` ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Ç—á–∞–º–∏:
  - `updateMatchStats(matchKey, stats)` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –º–∞—Ç—á–∞
  - `getMatchStats(matchKey)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –º–∞—Ç—á–∞
  - `findMatchByTeams(home, away)` ‚Äî –ø–æ–∏—Å–∫ –º–∞—Ç—á–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ç—á–µ–π –∏ —Å–æ—Å—Ç–∞–≤—ã –∫–æ–º–∞–Ω–¥ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)

### –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã —á–µ—Ä–µ–∑ MatchesStore
**–ü—Ä–æ–±–ª–µ–º–∞**: –î–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
- –õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à: `mdPane.__lastRosters`, `mdPane.__lastEvents`
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ fetch –∑–∞–ø—Ä–æ—Å—ã –∏–∑ `profile-match-advanced.js`
- WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ `matchDetailsUpdate`
- MatchesStore (—á–∞—Å—Ç–∏—á–Ω–æ)

–≠—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é ‚Äî —Ä–∞–∑–Ω—ã–µ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å –≤ —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è –∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–ª–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞.

### –†–µ—à–µ–Ω–∏–µ: Store-Driven UI
**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ç—á–∞** (‚úÖ –†–ê–ë–û–¢–ê–ï–¢):
- `match_legacy_bridge.ts` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç `window.MatchStats.render` –∏ –∑–∞–º–µ–Ω—è–µ—Ç –Ω–∞ –≤–µ—Ä—Å–∏—é –∏–∑ —Å—Ç–æ—Ä–∞
- WebSocket —Å–æ–±—ã—Ç–∏–µ `data_patch` —Å `entity: 'match_stats'` ‚Üí `ws_listeners.ts` ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç `MatchesStore`
- `match_legacy_bridge.ts` —Å–ª—É—à–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è `MatchesStore` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ fetch, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

**–°–æ—Å—Ç–∞–≤—ã –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–±—ã—Ç–∏—è** (‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û):
- `match_legacy_bridge.ts` —Ç–µ–ø–µ—Ä—å —Ç–∞–∫–∂–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç `window.MatchRostersEvents.render`
- WebSocket —Å–æ–±—ã—Ç–∏—è `data_patch` —Å `entity: 'match_rosters'` –∏ `entity: 'match_events'` ‚Üí –æ–±–Ω–æ–≤–ª—è—é—Ç `MatchesStore`
- –ï–¥–∏–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ —Å—Ç–æ—Ä–∞ –¥–ª—è —Å–æ—Å—Ç–∞–≤–æ–≤, —Å–æ–±—ã—Ç–∏–π –∏ —Å—á–µ—Ç–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö, —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–¥–º–∏–Ω-–∫–æ–Ω—Ç—Ä–æ–ª–æ–≤

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
```
WebSocket Event ‚Üí ws_listeners.ts ‚Üí MatchesStore ‚Üí match_legacy_bridge.ts ‚Üí UI Update
```

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
1. **MatchesStore** ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –º–∞—Ç—á–∞
2. **Legacy override** ‚Äî –ø–µ—Ä–µ—Ö–≤–∞—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö render —Ñ—É–Ω–∫—Ü–∏–π –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞
3. **Fallback —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** ‚Äî –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Å—Ç–æ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
4. **Debounce –∑–∞—â–∏—Ç–∞** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **–ê–¥–∞–ø—Ç–µ—Ä –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞**: `match_stats_adapter.ts` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/match/stats/get` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç MatchesStore
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: 30-—Å–µ–∫—É–Ω–¥–Ω—ã–π –∫—ç—à –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- **WebSocket –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ `matchStatsRefresh` —Å–æ–±—ã—Ç–∏–π
- **Fallback —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: legacy –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```typescript
interface MatchStats {
  home?: { shots_total: number; shots_on: number; corners: number; yellows: number; reds: number };
  away?: { shots_total: number; shots_on: number; corners: number; yellows: number; reds: number };
  // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –º–∞—Å—Å–∏–≤–æ–≤ [home, away]
  shots_total?: [number, number];
  shots_on?: [number, number];
  corners?: [number, number];
  yellows?: [number, number];
  reds?: [number, number];
}
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **ETag –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (API/–ë–î)
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**: –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–µ–π –¥–∞–Ω–Ω—ã—Ö  
- **–†–µ–∞–ª—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ WebSocket —Å–æ–±—ã—Ç–∏—è—Ö
 - **–ê–Ω–∏–º–∞—Ü–∏—è –±–µ–∑ –Ω–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤**: –∞–Ω–∏–º–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∑–∞ —Å—á—ë—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–æ—Å; –Ω–∏–∫–∞–∫–∏—Ö –Ω–æ–≤—ã—Ö CSS‚Äë–∫–ª–∞—Å—Å–æ–≤ –Ω–µ –≤–≤–æ–¥–∏—Ç—Å—è.
- **–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏**: —É–º–Ω—ã–π –∫—ç—à –∏ —É—Å–ª–æ–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å–Ω–∏–∂–∞—é—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏—è

- –¢–æ–ª—å–∫–æ whitelisted –ø–æ–ª—è (`persistPaths`) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ LocalStorage
- –ó–∞–ø–∏—Å—å —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è —Ç–∞–π–º—à—Ç–∞–º–ø–æ–º `__ts`, TTL –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –≥–∏–¥—Ä–∞—Ü–∏–∏
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –≤ user-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã/—Ç–æ–∫–µ–Ω—ã
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ç—á–µ–π –Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–∏—Ç—Å—è** ‚Äî –≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–≤–µ–∂–∞—è —Å —Å–µ—Ä–≤–µ—Ä–∞

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º (–¥–∞–ª—å—à–µ –ø–æ roadmap)

- –°–µ—Ç—å/–∫—ç—à: –≤ `etag-fetch.js` –¥–æ–±–∞–≤–∏—Ç—å —Ö—É–∫–∏ `onSuccess`, `onStale` –∏ –¥–∏—Å–ø–∞—Ç—á–∏—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–æ—Ä—ã (league/matches/predictions) ‚Äî –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–¥–∞—á–∞—Ö
- –†–µ–∞–ª—Ç–∞–π–º: `realtime-updates.js` –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤ —Å—Ç–æ—Ä ‚Äî –ø–æ—Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø
- –ú–æ–¥—É–ª–∏ UI: –∑–∞–º–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö Maps –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏–∑ —Å—Ç–æ—Ä–∞ –∏ –ø–æ–¥–ø–∏—Å–∫–∏ (–ø–æ —á–∞—Å—Ç—è–º, –ø–æ–¥ —Ñ–∏—á–∞-—Ñ–ª–∞–≥–æ–º)

## –í–ª–∏—è–Ω–∏–µ –Ω–∞ –º–µ—Ç—Ä–∏–∫–∏

- Tech Stability: üî¥ ‚Äî –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã —Å–Ω–∏–∂–∞–µ—Ç –±–∞–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ —Ä–∞–∑—ä–µ–∑–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
- Engagement: üîµ ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ ¬´–º–∏–≥–∞–Ω–∏–π¬ª –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞—Ö –≤–∫–ª–∞–¥–æ–∫  
- Retention: ‚ö™ ‚Äî –∫–æ—Å–≤–µ–Ω–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ —á–µ—Ä–µ–∑ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- Revenue: ‚ö™ ‚Äî –±–µ–∑ –ø—Ä—è–º–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å—Ä–µ–∑–æ–≤ (`league`, `matches`, `odds`, `predictions`, `shop`, `profile`, `realtime`) –¥–æ–ø–æ–ª–Ω—è–π—Ç–µ —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç: –ø–æ–ª—è, persistPaths, TTL, —Å–æ–±—ã—Ç–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (HTTP/WS).

---

## –ù–æ–≤—ã–µ —Å—Ä–µ–∑—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è (TS)

- league (no persist)
  - state: `{ table: any[]; stats: any[]; schedule: { tours: any[]; lastUpdated: number|null; etag?: string|null } }`
  - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑: etag-fetch (schedule/table/stats), WS –ø–∞—Ç—á–∏
  - –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ (live score –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏): –∫–∞—Ä—Ç–æ—á–∫–∏ –º–∞—Ç—á–µ–π —Ä–∞–∑–º–µ—á–µ–Ω—ã –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ `data-match-home`/`data-match-away`, –∞ —ç–ª–µ–º–µ–Ω—Ç —Å—á—ë—Ç–∞ –∏–º–µ–µ—Ç –∫–ª–∞—Å—Å `match-score`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç `realtime-updates.js` (–º–µ—Ç–æ–¥ `updateMatchScore`) –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–µ–∫—Å—Ç —Å—á—ë—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é –ø–æ WS –±–µ–∑ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –∏—Å–∫–ª—é—á–∞–µ—Ç –º–µ—Ä—Ü–∞–Ω–∏–µ ¬´VS ‚Üí 0:0 ‚Üí –∏—Å—á–µ–∑ ‚Üí 0:1 ‚Üí –∏—Å—á–µ–∑¬ª.

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤–∫–ª–∞–¥–∫–∞ ¬´–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞¬ª –õ–∏–≥–∏)

- –ò—Å—Ç–æ—á–Ω–∏–∫: `/api/leaderboard/goal-assist?limit=50` (–∫–∞–∫ –≤ legacy)
- –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è: –≤ –±–∏–Ω–¥–∏–Ω–≥–∞—Ö —Å—Ç–æ—Ä–∞ (`store/league_ui_bindings.ts`) –æ—Ç–≤–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ legacy-—Ñ–æ—Ä–º–∞—Ç—É `values` ‚Äî –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ –∏–∑ 5 –∫–æ–ª–æ–Ω–æ–∫: `–ò–º—è, –ú–∞—Ç—á–∏, –ì–æ–ª—ã, –ê—Å—Å–∏—Å—Ç—ã, –ì+–ü` (—Ç–æ–ø‚Äë10 –ø–æ—Å–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏).
- ETL: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–ª–∞–¥—ë—Ç—Å—è –≤ `LeagueStore.stats` –ø–æ–¥ –∫–ª—é—á–æ–º –∫—ç—à–∞ `league:stats` (—á–µ—Ä–µ–∑ `etag:success`).
- –†–µ–Ω–¥–µ—Ä: `league.js:renderStatsTable()` ‚Äî —Ç–æ—Ç –∂–µ –ª–µ–≥–∞—Å–∏‚Äë—Ä–µ–Ω–¥–µ—Ä, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ –ø–æ–¥–ø–∏—Å–∫–∏ —Å—Ç–æ—Ä–∞; –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ `dataset.sig` –Ω–∞ —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫.
- –§–∏—á–∞‚Äë—Ñ–ª–∞–≥: –ø—Ä–∏ `localStorage['feature:league_ui_store']='1'` `profile.js` –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç `loadStatsTable()` –Ω–∞ `loadStatsViaStore()` –∏ –Ω–µ –æ—á–∏—â–∞–µ—Ç `tbody` –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π (–∏—Å–∫–ª—é—á–∞–µ—Ç –º–µ—Ä—Ü–∞–Ω–∏–µ).
  - UI bindings: `store/league_ui_bindings.ts` —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ç–∞–±–ª–∏—Ü—É –ª–∏–≥–∏ –±–µ–∑ –º–∏–≥–∞–Ω–∏—è ‚Äî
    –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫ —á–µ—Ä–µ–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏ –ø–µ—Ä–≤—ã—Ö 10 —Å—Ç—Ä–æ–∫ (`dataset.sig`).
    –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º —Ñ–∏—á–∞-—Ñ–ª–∞–≥–µ `feature:league_ui_store` –≤—ã–∑–æ–≤ `loadLeagueTable()`
    –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è –≤ `loadLeagueTableViaStore()` (—Å–º. `profile.js`), —á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π —Ä–µ–Ω–¥–µ—Ä
    –∏ –Ω–µ —Å–±–∏–≤–∞—Ç—å –º–µ—Ç–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. –≠—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –º–µ—Ä—Ü–∞–Ω–∏–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–¥–≤–∫–ª–∞–¥–∫–∏ ¬´–¢–∞–±–ª–∏—Ü–∞¬ª.

- matches (no persist)
  - state: `{ map: Record<string, { info: MatchInfo|null; score: MatchScore|null; events: MatchEvent[]; lastUpdated: number|null }> }`
  - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑: etag-fetch (–¥–µ—Ç–∞–ª–∏ –º–∞—Ç—á–∞), WS —Å–æ–±—ã—Ç–∏—è (–≥–æ–ª—ã, –∫–∞—Ä—Ç–æ—á–∫–∏, —Ç–∞–π–º–µ—Ä)

- odds (no persist)
  - state: `{ map: Record<string, { value: number; version: number; lastUpdated: number }> }`
  - –∫–ª—é—á–∏: `"<matchId>|1x2|home|draw|away"`, `"<matchId>|totals|over|<line>"`, `"<matchId>|totals|under|<line>"`, `"<matchId>|penalty|yes|no"`, `"<matchId>|redcard|yes|no"`
  - `<matchId>` —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `home_away_YYYY-MM-DD`
  - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑: etag-fetch (–ø—Ä–µ–¥–∏–∫—à–µ–Ω—ã) + WS –ø–∞—Ç—á–∏ (—Å—Ö–µ–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞)

- predictions (no persist)
  - state: `{ items: PredictionItem[]; myVotes: Record<string, any>; ttl: number|null }`
  - items: –º–∞—Å—Å–∏–≤ –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤ –ø–æ –º–∞—Ç—á–∞–º (`{ id, matchId, market: 'available', options: [...] }`)
  - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑: etag-fetch (—Å–ø–∏—Å–∫–∏), –ª–æ–∫–∞–ª—å–Ω–æ: –∫—ç—à myVotes —Å TTL (–ø–µ—Ä–µ–∑–∞–ø—Ä–æ—Å –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ETag/WS ‚Üí Store (—Å–≤–æ–¥–∫–∞):
- predictions.js —Ç–µ–ø–µ—Ä—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ `/api/betting/tours` –æ–±–Ω–æ–≤–ª—è–µ—Ç OddsStore –∏ PredictionsStore
- realtime-updates.js –¥–∏—Å–ø–∞—Ç—á–∏—Ç `bettingOddsUpdate` –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI; –ø–æ—Å–ª–µ–¥—É—é—â–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ OddsStore –≤–æ–∑–º–æ–∂–Ω–∞ (–ø–æ–¥ —Ñ–∏—á–∞-—Ñ–ª–∞–≥)
 - realtime (store) –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–æ–±—ã—Ç–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è/–ø–æ–¥–ø–∏—Å–æ–∫ –∏ –æ—Ç—Ä–∞–∂–∞—Ç—å –∏—Ö –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ (`connected`, `topics`, `reconnects`) –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –ø–æ–¥–ø–∏—Å–æ–∫ UI (—ç—Ç–∞–ø 1. –∞–¥–∞–ø—Ç–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
 - ETag –∞–¥–∞–ø—Ç–µ—Ä: `etag-fetch.js` —Ç–µ–ø–µ—Ä—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —ç–º–∏—Ç–∏—Ç `window`-—Å–æ–±—ã—Ç–∏—è `etag:success`/`etag:stale` —Å detail `{ cacheKey, data, etag, fromCache, updated, raw }` ‚Äî —ç—Ç–æ –Ω–µ –º–µ–Ω—è–µ—Ç —Ç–µ–∫—É—â–∏–π API, –Ω–æ –¥–∞—ë—Ç –µ–¥–∏–Ω—ã–π –∫–∞–Ω–∞–ª –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –≤ —Å—Ç–æ—Ä.
 - –ü–µ—Ä–≤—ã–π —Å–ª—É—à–∞—Ç–µ–ª—å: `static/js/store/etl_listeners.ts` (dist) –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ `etag:success` –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç `LeagueStore.schedule` –¥–ª—è `cacheKey = "league:schedule"`. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ—Å–ª–µ –±–∞–∑–æ–≤—ã—Ö —Å—Ä–µ–∑–æ–≤.
 - WS —Å–æ–±—ã—Ç–∏–π–Ω–∞—è —à–∏–Ω–∞: `realtime-updates.js` —ç–º–∏—Ç–∏—Ç `ws:connected`, `ws:disconnected`, `ws:topic_update`, `ws:data_patch`, `ws:odds` (detail ‚Äî –ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—ã—Ç–∏—è).
 - WS —Å–ª—É—à–∞—Ç–µ–ª—å: `static/js/store/ws_listeners.ts` (dist) –æ–±–Ω–æ–≤–ª—è–µ—Ç `RealtimeStore` –ø–æ —Å–æ–±—ã—Ç–∏—è–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è/—Ç–æ–ø–∏–∫–æ–≤ –∏ –º–∞–ø–ø–∏—Ç `ws:odds` –≤ `OddsStore` —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –≤–µ—Ä—Å–∏–π.
 - WS —Å–ª—É—à–∞—Ç–µ–ª—å: `static/js/store/ws_listeners.ts` (dist) –æ–±–Ω–æ–≤–ª—è–µ—Ç `RealtimeStore` –ø–æ —Å–æ–±—ã—Ç–∏—è–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è/—Ç–æ–ø–∏–∫–æ–≤, –º–∞–ø–ø–∏—Ç `ws:odds` –≤ `OddsStore` (—Å –∑–∞—â–∏—Ç–æ–π –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –≤–µ—Ä—Å–∏–π) –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç `ws:data_patch` –ø–æ —Å—É—â–Ω–æ—Å—Ç—è–º `match`/`match_events` –≤ `MatchesStore` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç–∞ –∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏–π –±–µ–∑ –¥—É–±–ª–µ–π).

- shop (persist)
  - state: `{ cart: ShopCartItem[]; orders: ShopOrder[]; products: ShopProduct[]; ttl: number|null; lastCartUpdate: number|null; lastOrdersUpdate: number|null }`
  - persistPaths: `["cart","orders","ttl","lastCartUpdate","lastOrdersUpdate"]`, TTL: 14d
  - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑: UI-–¥–µ–π—Å—Ç–≤–∏–π –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π API
  - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –º–∏–≥—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—É—é –∫–æ—Ä–∑–∏–Ω—É –∏–∑ `localStorage['shop:cart']`, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏, —Ç–∏–ø–∏–∑–∞—Ü–∏—é TypeScript
  - Feature flag: `localStorage['feature:shop_ui_store'] = '1'` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ UI

- profile (no persist)
  - state: `{ achievements: Achievement[]; badges: string[]; lastUpdated: number|null }`
  - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑: etag-fetch (–ø—Ä–æ—Ñ–∏–ª—å/–∞—á–∏–≤–∫–∏)

- realtime (no persist)
  - state: `{ connected: boolean; topics: string[]; reconnects: number }`
  - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑: realtime-updates.js (—Å–æ–±—ã—Ç–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è/–ø–æ–¥–ø–∏—Å–∫–∏)

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã `MatchInfo`, `MatchScore`, `PredictionItem`, `Achievement`, `ShopCartItem`, `ShopOrder` ‚Äî –∑–∞–¥–∞–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö `.ts` –∏ –º–æ–≥—É—Ç —É—Ç–æ—á–Ω—è—Ç—å—Å—è –ø–æ –º–µ—Ä–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API.

## –õ—ë–≥–∫–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä realtime-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

- –§–∞–π–ª —Å—Ç–∏–ª–µ–π: `static/css/realtime-indicator.css`
- –ú–æ–¥—É–ª—å: `static/js/store/realtime_indicator.ts` (–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫–∞–∫ `dist/store/realtime_indicator.js`)
- –ü–æ–≤–µ–¥–µ–Ω–∏–µ: –º–∞–ª–µ–Ω—å–∫–∞—è —Ç–æ—á–∫–∞ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É, —Ü–≤–µ—Ç–æ–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ WS (—Å–µ—Ä—ã–π ‚Äî –æ—Ñ—Ñ–ª–∞–π–Ω, –∑–µ–ª—ë–Ω—ã–π ‚Äî –æ–Ω–ª–∞–π–Ω). –ù–µ –º–µ—à–∞–µ—Ç UI, –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è screen readers (`role="status"`, `aria-live="polite"`). –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ —Å–æ `RealtimeStore.connected`, —Ç–∞–∫ –∏ –Ω–∞–ø—Ä—è–º—É—é —Å —Å–æ–±—ã—Ç–∏—è–º–∏ `ws:connected/ws:disconnected` –≤ —Å—Ä–µ–¥–∞—Ö –±–µ–∑ —Å—Ç–æ—Ä–∞.

## –ü–æ–¥–ø–∏—Å–∫–∞ UI –¥–µ—Ç–∞–ª–µ–π –º–∞—Ç—á–∞ –Ω–∞ MatchesStore (feature-flag)

- –ú–æ–¥—É–ª—å: `static/js/store/match_ui_bindings.ts` (–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫–∞–∫ `dist/store/match_ui_bindings.js`)
- –í–∫–ª—é—á–µ–Ω–∏–µ: –ø–æ—Å—Ç–∞–≤—å—Ç–µ –≤ `localStorage` –∫–ª—é—á `feature:match_ui_store` = `1`
- –ß—Ç–æ –¥–µ–ª–∞–µ—Ç: –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç —ç–∫—Ä–∞–Ω –¥–µ—Ç–∞–ª–µ–π –º–∞—Ç—á–∞ (`#ufo-match-details`), –º–æ–¥—É–ª—å –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ `MatchesStore` –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—á—ë—Ç –≤ `#md-score` –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –∏–∑ WS/ETag. –°–æ–±—ã—Ç–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Å—Ç–∞—é—Ç—Å—è –ø–æ–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ç–µ–∫—É—â–∏—Ö –º–æ–¥—É–ª–µ–π (`profile-match-roster-events.js`, `profile-match-stats.js`) –∏ —É–∂–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ WS (–±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è/–ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∞ –≤ —Å—Ç–æÃÅ—Ä-–±–∏–Ω–¥–∏–Ω–≥–∞—Ö).
- –§–ª–∞–≥ —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (–µ—Å–ª–∏ –Ω–µ—Ç `?ff=0`).
- –û—Ç–∫–ª—é—á–∏—Ç—å –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ `?ff=0` –≤ URL.

## Store ‚Üí Legacy Bridge (—Å–æ–±—ã—Ç–∏—è/—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–µ–∑ fetch)

- –ú–æ–¥—É–ª—å: `static/js/store/match_legacy_bridge.ts`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è `MatchesStore` –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ legacy –º–µ—Ö–∞–Ω–∏–∑–º—ã –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.
  - –î–ª—è –≤–∫–ª–∞–¥–æ–∫ ¬´–ö–æ–º–∞–Ω–¥–∞ 1/–ö–æ–º–∞–Ω–¥–∞ 2¬ª: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `matchDetailsUpdate` —Å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª–µ–º `events` (—Ñ–æ—Ä–º–∞—Ç `{home:[],away:[]}`) ‚Äî legacy –º–æ–¥—É–ª—å `profile-match-roster-events.js` —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –∏ –ø–µ—Ä–µ—Ä–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏–∫–æ–Ω–∫–∏.
  - –î–ª—è ¬´–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞¬ª: –º—è–≥–∫–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `window.MatchStats.render`, —á—Ç–æ–±—ã –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Å—Ç–æ—Ä–∞ (`entry.stats.home / entry.stats.away`) –∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ fetch. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ (debounce ~120ms) –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–æ—Ä–∞.
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è: —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ (score + –¥–ª–∏–Ω–∞ events + hash stats) –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–∏—à–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è.
- –û—Ç–∫–∞—Ç: –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `?ff=0` –∫ URL ‚Äî —Ñ–ª–∞–≥ —É–¥–∞–ª–∏—Ç—Å—è –∏ –º–æ—Å—Ç –Ω–µ –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω.
- –ü–æ–∏—Å–∫ —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ç—á–∞: –ø–æ —Ç–µ–∫—Å—Ç–∞–º –≤ `#md-home-name`/`#md-away-name` —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å–∏ –∏–∑ `MatchesStore.map` –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –ø–æ `lastUpdated`.

## Shop –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–æ—Ä–æ–º (–≠—Ç–∞–ø 5 –∑–∞–≤–µ—Ä—à–µ–Ω)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Shop —Å—Ç–æ—Ä–∞

- **ShopStore** (`static/js/store/shop.ts`): —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω–æ–π –∏ –∑–∞–∫–∞–∑–∞–º–∏
- **ShopHelpers** (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏): API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ—Ä–∑–∏–Ω–æ–π, –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤
- **shop_ui_bindings.ts**: —Ä–µ–∞–∫—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è UI –ø–æ–¥ feature flag `feature:shop_ui_store`
- **shop_validators.ts**: –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –∫–æ—Ä–∑–∏–Ω—É –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ `localStorage['shop:cart']`
2. **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏—è**: –∫–æ—Ä–∑–∏–Ω–∞ –∏ –∑–∞–∫–∞–∑—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å TTL 14 –¥–Ω–µ–π
3. **–í–∞–ª–∏–¥–∞—Ü–∏–∏**: 
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (1-99), —Ü–µ–Ω—ã, –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
   - –õ–∏–º–∏—Ç—ã –∫–æ—Ä–∑–∏–Ω—ã (–º–∞–∫—Å–∏–º—É–º 50 —Ç–æ–≤–∞—Ä–æ–≤, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ 999999)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
4. **–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π UI**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã, badge –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤
5. **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ø–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `/api/shop/checkout` –∏ `/api/shop/my-orders`

### Feature flag –∞–∫—Ç–∏–≤–∞—Ü–∏—è

```javascript
localStorage.setItem('feature:shop_ui_store', '1');
```

–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —Ñ–ª–∞–≥–∞:
- UI –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω–æ–π
- Vanilla JS —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è –∫–∞–∫ fallback
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å `window.Shop` API –∏–∑ `shop.js`
- **ShopHelpers** —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—è–º–∏
- **–†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** —á–µ—Ä–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å—Ç–æ—Ä
- **Graceful degradation** –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å—Ç–æ—Ä–∞

–≠—Ç–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é Shop –º–æ–¥—É–ª—è —Å–æ–≥–ª–∞—Å–Ω–æ roadmap —ç—Ç–∞–ø 5.

---

## Profile Store (–ù–û–í–û–ï)

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–µ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫.

### –°–æ—Å—Ç–æ—è–Ω–∏–µ

```typescript
interface ProfileState {
  // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
  achievements: Achievement[];
  badges: string[];
  achievementsLastUpdated: number | null;
  
  // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  user: UserProfile;
  userLastUpdated: number | null;
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–µ—Ä—Å–∏—Å—Ç—è—Ç—Å—è)
  settings: UserSettings;
  settingsLastUpdated: number | null;
  
  // –î–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥ (–∫—ç—à —Å TTL)
  teams: TeamData;
  
  // –û–±—â–∏–µ –º–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏
  lastUpdated: number | null;
}
```

### –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏—è

- **persistPaths**: `["settings", "settingsLastUpdated"]`
- **TTL**: 14 –¥–Ω–µ–π
- **localStorage –∫–ª—é—á**: `profile:state:v1`

–¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏. –î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ API –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π**:
   - `updateAchievements()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `profile-achievements.js` —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (—Ç–∏—Ä—Ä—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å, –∏–∫–æ–Ω–∫–∏)

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏**:
   - `updateUser()` ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è (–∫—Ä–µ–¥–∏—Ç—ã, —É—Ä–æ–≤–µ–Ω—å, XP, —á–µ–∫–∏–Ω—ã)
   - `setFavoriteTeam()` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª—é–±–∏–º–æ–π –∫–æ–º–∞–Ω–¥—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
   - `updateCheckin()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —á–µ–∫–∏–Ω–∞

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∞–≤—Ç–æ–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–µ–π**:
   - `updateSettings()` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, —Ç–µ–º—ã, —è–∑—ã–∫–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
   - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ —Å TTL**:
   - `updateTeams()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –±–æ–ª–µ–ª—å—â–∏–∫–æ–≤
   - `withTeamCount()` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–º–∞–Ω–¥ —Å —á–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å—é
   - `isTeamsDataFresh()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ (5 –º–∏–Ω—É—Ç)

5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ–∫–∏–Ω–∞**:
   - `canCheckin()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —á–µ–∫–∏–Ω–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–æ—Ä–∞ –ø–æ—Å–ª–µ —á–µ–∫–∏–Ω–∞

### Feature flag –∞–∫—Ç–∏–≤–∞—Ü–∏—è

```javascript
localStorage.setItem('feature:profile_store', '1');
```

–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —Ñ–ª–∞–≥–∞ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∞–¥–∞–ø—Ç–µ—Ä—ã:
- `profile_achievements_adapter.js` ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- `profile_user_adapter.js` ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö  
- `profile_core_adapter.js` ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

### –ê–¥–∞–ø—Ç–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### 1. Achievements Adapter
- –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `ProfileAchievements.fetchAchievements()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å TTL 30 —Å–µ–∫—É–Ω–¥
- –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–æ—Ä–∞
- –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º UI —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º

#### 2. User Adapter  
- –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `ProfileUser.fetchUserData()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å TTL 1 –º–∏–Ω—É—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤—ã–±–æ—Ä–æ–º –ª—é–±–∏–º–æ–π –∫–æ–º–∞–Ω–¥—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ–∫–∏–Ω–∞

#### 3. Core Adapter
- –ó–∞–º–µ–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É `ProfileCore.init()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–æ—Ä–∞
- –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è `app:data-ready` –∏ `app:all-ready`
- –£–±–∏—Ä–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∑–∞–≥—Ä—É–∑–∫–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ —Ñ–ª–∞–≥–∞
- **Graceful enhancement**: —Å—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –ª–æ–º–∞—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ —Å—Ç–æ—Ä–µ
- **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏—è**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

### –õ–æ–≥–∏–∫–∞ –î–û/–ü–û–°–õ–ï

**–î–û (–±–µ–∑ —Å—Ç–æ—Ä–∞)**:
- –î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è —Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö (`profile-*.js`)
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–ª —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ `profile-core.js`

**–ü–û–°–õ–ï (—Å–æ —Å—Ç–æ—Ä–æ–º)**:
- –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –≤ `ProfileStore`
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å TTL
- –ê–≤—Ç–æ–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä—ã
- –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI

–≠—Ç–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∑–∞–¥–∞—á—É **Profile —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏** —Å–æ–≥–ª–∞—Å–Ω–æ roadmap —ç—Ç–∞–ø 5.

---

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö –∏ –Ω–∞–≥—Ä–∞–¥–∞—Ö (–Ω–æ–≤–æ–µ)

–¶–µ–ª—å: –¥–æ–Ω–µ—Å—Ç–∏ –¥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ñ–∞–∫—Ç —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –≤—ã–¥–∞–Ω–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥ (XP/–∫—Ä–µ–¥–∏—Ç—ã), –Ω–µ –Ω–∞—Ä—É—à–∞—è —Ç–µ–∫—É—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (–±–µ–∑ –±–∞–Ω–¥–ª–µ—Ä–∞, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å Vanilla JS).

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è

- –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö: `/api/achievements` (ETag, If-None-Match). –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `etag-fetch.js` –∏ —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è `etag:success`.
- –ü—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ –≤–Ω–µ –≤–∫–ª–∞–¥–∫–∏ ¬´–ü—Ä–æ—Ñ–∏–ª—å¬ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–∏–π —É—Å–ª–æ–≤–Ω—ã–π –æ–ø—Ä–æ—Å `/api/achievements` —Å ETag. –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 304, —Å–µ—Ç—å –Ω–µ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è. –ö—ç—à-–∫–ª—é—á ‚Äî –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–µ–¥–∏–Ω—ã–π –¥–ª—è –º–æ–¥—É–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π).
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–∏—Ä–æ–≤: –∫–ª–∏–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π ¬´–±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å¬ª –ª—É—á—à–∏—Ö —Ç–∏—Ä–æ–≤ –ø–æ –≥—Ä—É–ø–ø–∞–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø–æ–≤—ã—à–µ–Ω–∏—è —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç ¬´–æ–∂–∏–¥–∞—é—â–∏–µ –∫ –ø–æ–∫–∞–∑—É¬ª —ç–ª–µ–º–µ–Ω—Ç—ã.

### –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (LocalStorage)

- `ach:best:v1` ‚Äî —Å–ª–æ–≤–∞—Ä—å –ª—É—á—à–µ–≥–æ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ–≥–æ —Ç–∏—Ä–∞ –ø–æ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π. –§–æ—Ä–º–∞—Ç: `{ [group: string]: number /* 0..3 */ }`.
- `ach:pending:v1` ‚Äî –±—É—Ñ–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫ –ø–æ–∫–∞–∑—É –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –ü—Ä–æ—Ñ–∏–ª—å. –§–æ—Ä–º–∞—Ç:
  - `{ items: Array<{ group: string; tier: number; xp?: number; credits?: number; iconUrl?: string }>; ts: number }`.

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
- –≠—Ç–∏ –∫–ª—é—á–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è ¬´–∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã¬ª –ø–æ –¥–∞–Ω–Ω—ã–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π ‚Äî —ç—Ç–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ—Å–ª–æ–π–∫–∞ –¥–ª—è UX —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. –ò—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã –æ—Å—Ç–∞—ë—Ç—Å—è API/—Å—Ç–æ—Ä.
- TTL –¥–ª—è —ç—Ç–∏—Ö –∫–ª—é—á–µ–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –æ–Ω–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.

### UI-–ø–æ–≤–µ–¥–µ–Ω–∏–µ

- –í–Ω–µ –ø—Ä–æ—Ñ–∏–ª—è: –Ω–∞ –∏–∫–æ–Ω–∫–µ –≤–∫–ª–∞–¥–∫–∏ ¬´–ü—Ä–æ—Ñ–∏–ª—å¬ª –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä (—Å–º. –∫–ª–∞—Å—Å `.nav-badge--dot` –≤ `docs/styles.md`), –µ—Å–ª–∏ –≤ `ach:pending:v1` –µ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã.
- –í—Ö–æ–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏—è –Ω–∞–≥—Ä–∞–¥—ã —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –ø—Ä–µ–≤—å—é-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è. –°—É–º–º–∞—Ä–Ω—ã–µ XP –∏ –∫—Ä–µ–¥–∏—Ç—ã –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø—Ä–∏–±–∞–≤–ª—è—é—Ç—Å—è, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—è —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞–Ω–∏–º–∞—Ü–∏—é –∏–∑ –º–æ–¥—É–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —á–µ–∫-–∏–Ω–∞.
- –ü–æ—Å–ª–µ –ø–æ–∫–∞–∑–∞: –±—É—Ñ–µ—Ä `ach:pending:v1` –æ—á–∏—â–∞–µ—Ç—Å—è, `ach:best:v1` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–æ —Ç–µ–∫—É—â–∏—Ö —Ç–∏—Ä–æ–≤.

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

- –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–µ—Ä—ë—Ç—Å—è ¬´—Ä–µ–∞–ª—å–Ω–∞—è¬ª –∏–∫–æ–Ω–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏–∑ `static/img/achievements`. –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–±–æ—Ä–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤:
  1) `<group>-<tier>.png|svg` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `streak-gold.png`)
  2) `<group>-<tierName>.png|svg` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `streak-gold.png`, –µ—Å–ª–∏ tier ‚Üí gold)
  3) `<group>.png|svg` (–≥—Ä—É–ø–ø–∞ –±–µ–∑ —Ç–∏—Ä–∞)
  4) `<tier>.png|svg` (–æ–±—â–∞—è –±—Ä–æ–Ω–∑–∞/—Å–µ—Ä–µ–±—Ä–æ/–∑–æ–ª–æ—Ç–æ)
  5) `placeholder.png|svg`
- –ö–∞–Ω–¥–∏–¥–∞—Ç—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–±—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è; –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π.

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è

- –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å `prefers-reduced-motion: reduce` –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–æ–∫—Ä–∞—â–∞—é—Ç—Å—è –¥–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
- –ö—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–º –¥–ª—è screen readers —á–µ—Ä–µ–∑ ARIA-–º–µ—Ç–∫—É –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (¬´–ï—Å—Ç—å –Ω–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è¬ª).

### –°–µ—Ç—å, –∫—ç—à –∏ —Ä–µ–∞–ª—Ç–∞–π–º

- –°–µ—Ç—å: —É—Å–ª–æ–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (If-None-Match) —Å ETag –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç —Ç—Ä–∞—Ñ–∏–∫ (—á–∞—Å—Ç—ã–µ 304).
- –ö—ç—à: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à `etag-fetch.js` –¥–ª—è `/api/achievements` –∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–∏—Ä–æ–≤.
- –†–µ–∞–ª—Ç–∞–π–º: –Ω–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ WS –Ω–µ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ-–∏–Ω–≤–∞–ª–∏–¥–∞—Ç–æ—Ä –≤ –±—É–¥—É—â–µ–º).

### –õ–æ–≥–∏–∫–∞ –î–û/–ü–û–°–õ–ï

- –î–û: –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –Ω–µ –≤—ã–¥–∞–≤–∞–ª–∏ –±–æ–Ω—É—Å—ã XP/–∫—Ä–µ–¥–∏—Ç–æ–≤; –Ω–µ –±—ã–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö; –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∞–Ω–∏–º–∞—Ü–∏—è—Ö –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å.
- –ü–û–°–õ–ï: —Å–µ—Ä–≤–µ—Ä –µ–¥–∏–Ω–æ–∂–¥—ã –Ω–∞—á–∏—Å–ª—è–µ—Ç –Ω–∞–≥—Ä–∞–¥—ã –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —Ç–∏—Ä–∞ (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ), –∫–ª–∏–µ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ¬´–Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π¬ª, –∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –ø—Ä–æ—Ñ–∏–ª—å ‚Äî –∞–Ω–∏–º–∞—Ü–∏—é —Å —Ä–µ–∞–ª—å–Ω–æ–π –∏–∫–æ–Ω–∫–æ–π –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º XP/–∫—Ä–µ–¥–∏—Ç–æ–≤.

## Leaderboard Store (–ù–û–í–û–ï)

### –ü—Ä–∏–∑—ã: –∞–≤–∞—Ç–∞—Ä–∫–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π

- –ò—Å—Ç–æ—á–Ω–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: `/api/user/avatars?ids=...` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É `{ avatars: { "<user_id>": { avatar_url: string } } }`.
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (`/api/users/public-batch`) –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–ª–µ `photo_url`.
- UI ¬´–ü—Ä–∏–∑—ã¬ª –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –æ–±–µ —Ñ–æ—Ä–º—ã: —Å–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –≤–∑—è—Ç—å `avatars[id].avatar_url`, –∑–∞—Ç–µ–º `avatars[id].photo_url`, –∏ —Ç–æ–ª—å–∫–æ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä `/static/img/achievements/placeholder.png`.
- –ü—Ä–∏—á–∏–Ω–∞ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏: –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Å—Ç–æ—Ä–∞ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∞ –æ–∂–∏–¥–∞–ª–∞ —Å—Ç—Ä–æ–∫—É URL –≤ `avatars[id]`, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: —á—Ç–µ–Ω–∏–µ `avatars[id].avatar_url` (—Å fallback –Ω–∞ `photo_url`).

–°–µ—Ç—å/–∫—ç—à:
- –ó–∞–ø—Ä–æ—Å –∫ `/api/leaderboard/prizes` –∏–¥—ë—Ç —á–µ—Ä–µ–∑ `fetchEtag` —Å `cacheKey = 'lb:prizes'` (SWR 30—Å).
- –ó–∞–ø—Ä–æ—Å –∫ `/api/user/avatars` –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º –Ω–∞ 1 —á–∞—Å (—Å–º. –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞), –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ LocalStorage –∫—ç—à–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

–í–ª–∏—è–Ω–∏–µ:
- Tech Stability: üîµ ‚Äî —É—Å—Ç—Ä–∞–Ω—ë–Ω —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω —Ñ–æ—Ä–º–∞—Ç–∞, UI —Å–Ω–æ–≤–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–≤–∞—Ç–∞—Ä–∫–∏.
- Engagement: ‚ö™ ‚Äî –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞.

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º polling –∏ prefetch.

### –°–æ—Å—Ç–æ—è–Ω–∏–µ

```typescript
interface LeaderboardState {
  // –ü—Ä–æ–≥–Ω–æ–∑–∏—Å—Ç—ã (—Ç–æ–ø –ø–æ –≤–∏–Ω—Ä–µ–π—Ç—É)
  predictors: {
    items: LeaderboardPredictorItem[];
    lastUpdated: number | null;
    etag?: string | null;
  };
  
  // –ë–æ–≥–∞—Ç—Å—Ç–≤–æ (—Ç–æ–ø –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º)  
  rich: {
    items: LeaderboardRichItem[];
    lastUpdated: number | null;
    etag?: string | null;
  };
  
  // –°–µ—Ä–≤–µ—Ä (—Ç–æ–ø –∏–≥—Ä–æ–∫–æ–≤)
  server: {
    items: LeaderboardServerItem[];
    lastUpdated: number | null;
    etag?: string | null;
  };
  
  // –ü—Ä–∏–∑—ã
  prizes: {
    items: LeaderboardPrizeItem[];
    lastUpdated: number | null;
    etag?: string | null;
  };
  
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
  activeTab: 'predictors' | 'rich' | 'server' | 'prizes';
  isPolling: boolean;
  lastGlobalUpdate: number | null;
}
```

### –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏—è

- **–ë–µ–∑ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏** ‚Äî –¥–∞–Ω–Ω—ã–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ –≤—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∏–µ
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏** —Å TTL 60 —Å–µ–∫—É–Ω–¥
- **ETag –ø–æ–¥–¥–µ—Ä–∂–∫–∞** –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞**:
   - `LeaderboardPredictorItem` ‚Äî –ø—Ä–æ–≥–Ω–æ–∑–∏—Å—Ç—ã (–≤–∏–Ω—Ä–µ–π—Ç, —Å—Ç–∞–≤–∫–∏)
   - `LeaderboardRichItem` ‚Äî –±–æ–≥–∞—Ç—Å—Ç–≤–æ (–∫—Ä–µ–¥–∏—Ç—ã)
   - `LeaderboardServerItem` ‚Äî —Ç–æ–ø –∏–≥—Ä–æ–∫–æ–≤ (–æ—á–∫–∏, –º–∞—Ç—á–∏)
   - `LeaderboardPrizeItem` ‚Äî –ø—Ä–∏–∑—ã (–ø–µ—Ä–∏–æ–¥, –ø–æ–±–µ–¥–∏—Ç–µ–ª—å, —Å—É–º–º–∞)

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - `updatePredictors()`, `updateRich()`, `updateServer()`, `updatePrizes()`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è —Ä–∞–Ω–≥–æ–≤ (rank)
   - ETag-–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

3. **–£–º–Ω—ã–π polling**:
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
   - –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ —Å–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`document.hidden`)
   - –î–∂–∏—Ç—Ç–µ—Ä –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

4. **Prefetch –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫**:
   - –§–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ `rich`, `server`, `prizes` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π

5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º UI**:
   - `setActiveTab()` ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞
   - `setPollingState()` ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - `isDataFresh()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

### Feature flag –∞–∫—Ç–∏–≤–∞—Ü–∏—è

```javascript
localStorage.setItem('feature:leaderboard_store', '1');
```

–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —Ñ–ª–∞–≥–∞ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∞–¥–∞–ø—Ç–µ—Ä—ã:
- `leaderboard_adapter.js` ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `loadLBPredictors()` –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º
- `leaderboard_polling_adapter.js` ‚Äî —É–º–Ω–æ–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –¥–∂–∏—Ç—Ç–µ—Ä–æ–º

### –ê–¥–∞–ø—Ç–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### 1. Main Adapter
- –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `window.loadLBPredictors()`, `loadLBRich()`, `loadLBServer()`, `loadLBPrizes()`
- –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ —Å—Ç–æ—Ä–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `{ forceRevalidate, skipIfNotUpdated }`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–∞–±–ª–∏—Ü —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ CSS-–∫–ª–∞—Å—Å–∞–º–∏ —Ä–∞–Ω–≥–æ–≤

#### 2. Polling Adapter
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π polling –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥ + –¥–∂–∏—Ç—Ç–µ—Ä
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ —á–µ—Ä–µ–∑ DOM —Å–æ–±—ã—Ç–∏—è
- Prefetch –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ polling –ø—Ä–∏ —Å–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

- **–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å –ª–æ–≥–∏–∫–æ–π –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ –≤ `profile.js`
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π** `ensureLeaderboardInit()`, polling —Ç–∞–π–º–µ—Ä–æ–≤
- **–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π UI** —á–µ—Ä–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å—Ç–æ—Ä
- **–£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏

### –õ–æ–≥–∏–∫–∞ –î–û/–ü–û–°–õ–ï

**–î–û (–±–µ–∑ —Å—Ç–æ—Ä–∞)**:
- –ö–∞–∂–¥–∞—è –≤–∫–ª–∞–¥–∫–∞ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ –∏–º–µ–ª–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –∑–∞–≥—Ä—É–∑–∫–∏ –≤ `profile.js`
- Polling –∏ prefetch —É–ø—Ä–∞–≤–ª—è–ª–∏—Å—å —á–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞
- –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ü–û–°–õ–ï (—Å–æ —Å—Ç–æ—Ä–æ–º)**:
- –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –≤ `LeaderboardStore`
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π polling —Å —É–º–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å—é
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π —Ä–∞–Ω–≥–æ–≤
- –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —á–µ—Ä–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å—Ç–æ—Ä
- Prefetch —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

–≠—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç **Leaderboard —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—é** –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ roadmap —ç—Ç–∞–ø 5.
